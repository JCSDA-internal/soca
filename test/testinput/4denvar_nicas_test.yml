---
resolution:
model:
  tstep: PT1H
cost_function:
  cost_type: 4D-Ens-Var
  window_begin: '2015-01-01T00:00:00Z'
  window_length: PT2H #PT12H
  window_sub: PT1H
  variables:
  - cicen
  - hicen
  - hsnon
  - tsfcn
  - qsnon
  - sicnk
  - qicnk
  - socn
  - tocn
  - ssh
  Jo:
    ObsTypes:
    - ObsType: SeaIceThickness
      #Generate:
      #  nobs: 100 #10
      #  lat: 0.0 #85.5
      #  lon1: -200 #-280
      #  lon2: 100 #80
        #nobs: 4
        #lat: 58.5
        #lon1: 18.50
        #lon2: 20.5        
      ObsData:
        ObsDataOut:
          obsfile: Data/test_obsout.nc
        ObsDataIn:
          obsfile: /home/gvernier/Data/CS2/cryosat2-nrt-nh-20171030-v2.0.nc          
          #obsfile: Data/jason-2_002.nc #seaice_obs.nc                
        obsvalue: ObsVal
      Covariance:
        covariance: diagonal
        obserror: ObsErr  
  Jb:
    Background:
      state:
      - read_from_file: 1
        basename: "./RESTART-01/"
        ocn_sfc_filename: MOM.res.nc
        ocn_filename: MOM.res.nc
        ice_filename: ice_model.res.nc
        date: '2015-01-01T00:00:00Z'        
      - read_from_file: 1
        basename: "./RESTART-01/"
        ocn_sfc_filename: MOM.res.nc
        ocn_filename: MOM.res.nc
        ice_filename: ice_model.res.nc
        date: '2015-01-01T01:00:00Z'        
      - read_from_file: 1
        basename: "./RESTART-01/"
        ocn_sfc_filename: MOM.res.nc
        ocn_filename: MOM.res.nc
        ice_filename: ice_model.res.nc
        date: '2015-01-01T02:00:00Z'        
    Covariance:
      #static:
        #covariance: SocaError
        #standard_deviation: '0.8'
        #vertical_correlation: '0.2'
        #horizontal_length_scale: 1e6
        #date: '2015-01-01T00:00:00Z'
      covariance_time:
      - covariance: ensemble
        members: 20
        variables:
          variables:
              - cicen
              - hicen
              - hsnon
              - tsfcn
              - qsnon
              - sicnk
              - qicnk
              - socn
              - tocn
              - ssh
        date: '2015-01-01T00:00:00Z'
        localization:
          localization: HDIAG_NICAS
          variables:
            variables:
            - cicen
            - hicen
            - hsnon
            - tsfcn
            - qsnon
            - sicnk
            - qicnk
            - socn
            - tocn
            - ssh
          hdiag_ensemble:
            - read_from_file: 1
              basename: "./RESTART-01/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-02/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'          
            - read_from_file: 1
              basename: "./RESTART-03/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-04/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-05/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-06/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-07/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-08/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-09/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-10/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-11/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-12/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-13/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-14/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-15/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-16/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-17/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-18/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-19/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-20/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T00:00:00Z'              
          prefix: soca
          default_seed: 1
          method: loc
          strategy: specific_univariate #common
          new_hdiag: 1
          new_param: 1
          check_adjoints: 1
          check_pos_def: 0
          check_sqrt: 0
          check_dirac: 0
          check_perf: 0
          check_randomization: 0
          check_consistency: 0
          check_optimality: 0
          new_lct: 0
          new_obsop: 1
          logpres: 0
          transform: 0
          mask_type: none
          mask_th: 0
          mask_check: 0
          nc1: 400
          ntry: 3
          nrep: 2
          nc3: 10
          dc: 50.0e3
          nl0r: 1
          ne: 20
          gau_approx: 0
          full_var: 0
          local_diag: 0
          local_rad: 0
          displ_diag: 0
          displ_rad: 0
          displ_explicit: 0
          displ_niter: 0
          displ_rhflt: 0
          displ_tol: 0
          fit_type: fast
          fit_wgt: 1
          lhomh: 0
          lhomv: 0
          rvflt: 0
          nldwh: 0
          nldwv: 0
          flt_type: average
          diag_interp: bilin
          diag_rhflt: 0
          lsqrt: 0
          resol: 10
          nicas_interp: bilin
          network: 0
          mpicom: 1
          ndir: 0
          nobs: 200
          obsdis: 1
          obsop_interp: bilin
          nproc: 1          
        state:
        - read_from_file: 1
          basename: "./RESTART-01/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-02/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'          
        - read_from_file: 1
          basename: "./RESTART-03/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-04/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-05/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-06/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-07/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-08/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'          
        - read_from_file: 1
          basename: "./RESTART-09/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-10/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-11/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-12/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-13/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-14/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-15/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-16/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'          
        - read_from_file: 1
          basename: "./RESTART-17/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-18/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-19/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-20/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T00:00:00Z'                    
      - covariance: ensemble
        members: 20
        variables:
          variables:
              - cicen
              - hicen
              - hsnon
              - tsfcn
              - qsnon
              - sicnk
              - qicnk
              - socn
              - tocn
              - ssh
        date: '2015-01-01T01:00:00Z'
        localization:
          localization: HDIAG_NICAS
          variables:
            variables:            
            - cicen
            - hicen
            - hsnon
            - tsfcn
            - qsnon
            - sicnk
            - qicnk
            - socn
            - tocn
            - ssh
          hdiag_ensemble:
            - read_from_file: 1
              basename: "./RESTART-01/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-02/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'          
            - read_from_file: 1
              basename: "./RESTART-03/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-04/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-05/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-06/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-07/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-08/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-09/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-10/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-11/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-12/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-13/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-14/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-15/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-16/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-17/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-18/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-19/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-20/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T01:00:00Z'              
          prefix: soca
          default_seed: 1
          method: loc
          strategy: specific_univariate #common
          new_hdiag: 1
          new_param: 1
          check_adjoints: 1
          check_pos_def: 0
          check_sqrt: 0
          check_dirac: 0
          check_perf: 0
          check_randomization: 0
          check_consistency: 0
          check_optimality: 0
          new_lct: 0
          new_obsop: 1
          logpres: 0
          transform: 0
          mask_type: none
          mask_th: 0
          mask_check: 0
          nc1: 400
          ntry: 3
          nrep: 2
          nc3: 10
          dc: 50.0e3
          nl0r: 1
          ne: 20
          gau_approx: 0
          full_var: 0
          local_diag: 0
          local_rad: 0
          displ_diag: 0
          displ_rad: 0
          displ_explicit: 0
          displ_niter: 0
          displ_rhflt: 0
          displ_tol: 0
          fit_type: fast
          fit_wgt: 1
          lhomh: 0
          lhomv: 0
          rvflt: 0
          nldwh: 0
          nldwv: 0
          flt_type: average
          diag_interp: bilin
          diag_rhflt: 0
          lsqrt: 0
          resol: 10
          nicas_interp: bilin
          network: 0
          mpicom: 1
          ndir: 0
          nobs: 200
          obsdis: 1
          obsop_interp: bilin          
        state:
        - read_from_file: 1
          basename: "./RESTART-01/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-02/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'          
        - read_from_file: 1
          basename: "./RESTART-03/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-04/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-05/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-06/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-07/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-08/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'          
        - read_from_file: 1
          basename: "./RESTART-09/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-10/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-11/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-12/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-13/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-14/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-15/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-16/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'          
        - read_from_file: 1
          basename: "./RESTART-17/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-18/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-19/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-20/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T01:00:00Z'                    
      - covariance: ensemble
        members: 20
        variables:
          variables:
              - cicen
              - hicen
              - hsnon
              - tsfcn
              - qsnon
              - sicnk
              - qicnk
              - socn
              - tocn
              - ssh
        date: '2015-01-01T02:00:00Z'
        localization:
          localization: HDIAG_NICAS
          variables:
            variables:
            - cicen
            - hicen
            - hsnon
            - tsfcn
            - qsnon
            - sicnk
            - qicnk
            - socn
            - tocn
            - ssh
          hdiag_ensemble:
            - read_from_file: 1
              basename: "./RESTART-01/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-02/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'          
            - read_from_file: 1
              basename: "./RESTART-03/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-04/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-05/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-06/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-07/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-08/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-09/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-10/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-11/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-12/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-13/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-14/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-15/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-16/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-17/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-18/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-19/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'
            - read_from_file: 1
              basename: "./RESTART-20/"
              ocn_sfc_filename: MOM.res.nc
              ocn_filename: MOM.res.nc
              ice_filename: ice_model.res.nc
              date: '2015-01-01T02:00:00Z'                            
          prefix: soca
          default_seed: 1
          method: loc
          strategy: specific_univariate #common
          new_hdiag: 1
          new_param: 1
          check_adjoints: 1
          check_pos_def: 0
          check_sqrt: 0
          check_dirac: 0
          check_perf: 0
          check_randomization: 0
          check_consistency: 0
          check_optimality: 0
          new_lct: 0
          new_obsop: 1
          logpres: 0
          transform: 0
          mask_type: none
          mask_th: 0
          mask_check: 0
          nc1: 400
          ntry: 3
          nrep: 2
          nc3: 10
          dc: 50.0e3
          nl0r: 1
          ne: 20
          gau_approx: 0
          full_var: 0
          local_diag: 0
          local_rad: 0
          displ_diag: 0
          displ_rad: 0
          displ_explicit: 0
          displ_niter: 0
          displ_rhflt: 0
          displ_tol: 0
          fit_type: fast
          fit_wgt: 1
          lhomh: 0
          lhomv: 0
          rvflt: 0
          nldwh: 0
          nldwv: 0
          flt_type: average
          diag_interp: bilin
          diag_rhflt: 0
          lsqrt: 0
          resol: 10
          nicas_interp: bilin
          network: 0
          mpicom: 1
          ndir: 0
          nobs: 200
          obsdis: 1
          obsop_interp: bilin          
        state:
        - read_from_file: 1
          basename: "./RESTART-01/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-02/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'          
        - read_from_file: 1
          basename: "./RESTART-03/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-04/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-05/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-06/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-07/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-08/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'          
        - read_from_file: 1
          basename: "./RESTART-09/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-10/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-11/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-12/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-13/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-14/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-15/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-16/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'          
        - read_from_file: 1
          basename: "./RESTART-17/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-18/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-19/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'
        - read_from_file: 1
          basename: "./RESTART-20/"
          ocn_sfc_filename: MOM.res.nc
          ocn_filename: MOM.res.nc
          ice_filename: ice_model.res.nc
          date: '2015-01-01T02:00:00Z'                              
#  Jc:
#  - jcdfi:
#      type: DolphChebyshev
#      variables:
#        - cicen
#        - hicen
#        - hsnon
#        - tsfcn
#        - qsnon
#        - sicnk
#        - qicnk
#        - socn
#        - tocn
#        - ssh      
#      cutoff: PT3H
#      alpha: 0.1
minimizer:
  algorithm: DRIPCG
#output:
#  first: PT0S
#  frequency: PT6H
#  datadir: Data
#  exp: example
#  type: an
output:
  first: PT0H #PT3H
  frequency: PT01H#PT06H
  datadir: Data
  exp: 4denvar
  type: an
variational:
  iteration:
  - resolution:
    linearmodel:
      version: IdTLM
      tstep: PT1H
      trajectory:
        tstep: PT1H
    ninner: 1
    gradient_norm_reduction: 1e-6
    test: on
    diagnostics:
      departures: ombg
final:
  prints:
    frequency: PT1H
  diagnostics:
    departures: oman
