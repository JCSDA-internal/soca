geometry:
  mom6_input_nml: ./inputnml/input.nml
  fields metadata: ./fields_metadata.yml

initial condition:
  read_from_file: 1
  basename: ./INPUT/
  date: &date 2018-04-15T00:00:00Z
  ocn_filename: MOM.res.nc
  ice_filename: cice.res.nc
  state variables: &soca_vars [socn, tocn, ssh, hocn, cicen, hicen]

background error:
  covariance model: SABER
  saber blocks:
  - saber block name: BUMP_NICAS
    saber central block: true
    iterative inverse: true
    input variables: *soca_vars
    output variables: *soca_vars
    bump:
      verbosity: main
      datadir: ./bump_scales
      strategy: specific_univariate
      load_nicas_local: true
      grids:
      - prefix: bump3d
        variables: [socn, tocn, hocn]
      - prefix: bump2d
        variables: [ssh, cicen, hicen]

dirac:
  ixdir: [1, 17, 41, 31, 51, 63, 81, 14, 16, 43]
  iydir: [8, 21, 19, 33, 29, 26, 16, 41,  5, 43]
  izdir: [1,  5,  1,  1,  1,  1,  1,  1,  1,  1]
  ifdir: [1,  1,  3,  2,  1,  1,  1,  4,  5,  5]

output dirac:
  datadir: Data
  date: *date
  exp: dirac_soca_cor_nicas_scales%id%
  type: an

test:
  reference filename: testref/dirac_soca_cor_nicas_scales.test