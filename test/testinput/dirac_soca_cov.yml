resolution:
  num_ice_cat: 5
  num_ice_lev: 4
  num_sno_lev: 1
  mom6_input_nml: ./inputnml/input.nml

initial:
  read_from_file: 1
  basename: ./INPUT/
  date: &date 2018-04-15T00:00:00Z
  ocn_filename: MOM.res.nc
  ice_filename: ice_model.res.nc

variables: &soca_vars [cicen, hicen, socn, tocn, ssh, hocn]

Covariance:
  covariance: SocaError
  prefix: soca
  datadir: ./bump
  load_nicas: 1
  lsqrt: 1
  mpicom: 2
  strategy: specific_univariate
  date: *date
  variables: &soca_vars [cicen, hicen, socn, tocn, ssh, hocn]

  variable_changes:

  - varchange: BkgErrFILT
    ocean_depth_min: 100 # [m]
    rescale_bkgerr: 1.0
    efold_z: 2500.0       # [m]
    inputVariables:
      variables: *soca_vars
    outputVariables:
      variables: *soca_vars

  - varchange: BkgErrGODAS
    t_min: 0.1
    t_max: 2.0
    t_dz:  20.0
    t_efold: 500.0
    s_min: 0.0
    s_max: 0.25
    ssh_min: 0.0   # value at EQ
    ssh_max: 0.1   # value in Extratropics
    ssh_phi_ex: 20 # lat of transition from extratropics
    cicen_min: 0.1
    cicen_max: 0.5
    hicen_min: 10.0
    hicen_max: 100.0
    variables:
      variables: *soca_vars
    inputVariables:
      variables: *soca_vars
    outputVariables:
      variables: *soca_vars

  - varchange: VertConvSOCA
    variables:
      variables: *soca_vars
    Lz_min: 2.0
    Lz_mld: 1
    Lz_mld_max: 500.0
    scale_layer_thick: 1.5
    inputVariables:
      variables: *soca_vars
    outputVariables:
      variables: *soca_vars

  - varchange: BalanceSOCA
    dsdtmax: 1
    dsdzmin: 3.0e-6
    dtdzmin: 1.0e-6
    nlayers: 2
    dcdt:
      filename: ./Data/kmask.nc
      name: dcdt
    inputVariables:
      variables: *soca_vars
    outputVariables:
      variables: *soca_vars

dirac:
  ixdir: [1, 17, 41, 31, 51, 63, 81, 14, 16, 43]
  iydir: [8, 21, 19, 33, 29, 26, 16, 41,  5, 43]
  izdir: [1,  5,  1,  1,  1,  1,  1,  1,  1,  1]
  ifdir: [1,  1,  3,  2,  1,  1,  1,  4,  5,  5]

output_B:
  datadir: Data
  date: *date
  exp: dirac_soca_cov
  type: an
