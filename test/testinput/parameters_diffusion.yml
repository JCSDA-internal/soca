geometry: &geom
  geom_grid_file: data_generated/gridgen/soca_gridspec.72x35x25.nc
  mom6_input_nml: data_static/72x35x25/input.nml
  fields metadata: data_static/fields_metadata.yml

background:
  read_from_file: 1
  basename: data_static/72x35x25/restarts/
  date: &date 2018-04-15T06:00:00Z
  ocn_filename: MOM.res.nc
  ice_filename: cice.res.nc
  state variables: &stateVariables [cicen, hicen, hsnon, socn, tocn, uocn, vocn, ssh]

background error:
  covariance model: SABER
  # adjoint test: true
  #  NOTE: to run the self adjoint test, you have to first comment out the 
  #  indicated halo exchange in soca_fields_to_fieldset()
  saber central block:
    saber block name: EXPLICIT_DIFFUSION
    geometry: *geom
    calibration:
      normalization:
        method: randomization  #< other option is "brute force"
        iterations: 50000       #< in the real world you'll want to use 1e4 or so
      scales:
      - name: group1
        horizontal:
          from file:
            filename: data_generated/setcorscales/ocn.cor_rh.incr.2018-04-15T00:00:00Z.nc
            variable name: ave_ssh
        vertical:
          as gaussian: true
          fixed value: 5.0
      - name: group2
        horizontal:
          as gaussian: true
          fixed value: 2000.0e3  #< other method of defining scales, instead of using "from file"          
      write:
        filename: data_generated/parameters_diffusion/diffusion_params.nc