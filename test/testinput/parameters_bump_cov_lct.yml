geometry:
  mom6_input_nml: ./inputnml/input.nml
  geom_grid_file: soca_gridspec.nc
  fields metadata: ./fields_metadata.yml

input variables: [tocn]

background:
  read_from_file: 1
  date: &date 2018-04-15T00:00:00Z
  basename: ./
  ocn_filename: INPUT/MOM.res.nc
  state variables:  [socn, tocn, hocn]

bump:
  verbosity: main
  datadir: ./bump
  dc: 500.0e3
  method: cor
  nc1: 500
  nc2: 500
  nc3: 20
  ne: 10
  new_hdiag: true
  new_nicas: true
  new_var: true
  nl0r: 11
  resol: 4.0
  strategy: specific_univariate
  var_filter: true
  var_niter: 5
  var_rhflt:
    tocn: [1000.0e3]
  write_hdiag: true
  write_nicas_local: true
  output:
  - datadir: bump
    date: *date
    exp: parameters_bump_cov.cor_rh
    parameter: cor_rh
    type: an
  - datadir: bump
    date: *date
    exp: parameters_bump_cov.cor_rv
    parameter: cor_rv
    type: an
  - datadir: bump
    date: *date
    exp: parameters_bump_cov.stddev
    parameter: stddev
    type: an

ensemble:
  members from template:
    template:
      date: *date
      basename: ./Data/
      ocn_filename: ocn.pert.ens.%mem%.2018-04-15T00:00:00Z.PT0S.nc
      state variables:  [socn, tocn, hocn]
    pattern: '%mem%'
    nmembers: 5

#test:
#  reference filename: testref/parameters_bump_cov_lct.test
#  test output filename: testoutput/parameters_bump_cov_lct.test
