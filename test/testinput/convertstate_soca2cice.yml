input geometry:
  geom_grid_file: soca_gridspec.nc
  mom6_input_nml: ./inputnml/input.nml
  fields metadata: ./fields_metadata.yml
output geometry:
  geom_grid_file: soca_gridspec.nc
  mom6_input_nml: ./inputnml/input.nml
  fields metadata: ./fields_metadata.yml

variable change:
  variable change name: Soca2Cice
  do inverse: false
  seaice edge: 0.15
  shuffle: true
  rescale prior: true
  domain: global
  cice background state:
    restart: /home/gvernier/runs/test-ice/iced.2021-03-23-43200.nc
    ncat: 5
    ice_lev: 7
    sno_lev: 1
    tstep: PT1H
  cice output:
    restart: /home/gvernier/sandboxes/soca/build/soca/test/iced.2021-03-23-43200.balanced.nc
  output variables: [tocn, socn, hocn, cicen, hicen, hsnon]

states:
- input:
     read_from_file: 1
     basename: ./Data/
     ocn_filename: ocn.3dvargodas.an.2018-04-15T00:00:00Z.nc
     ice_filename: ice.3dvargodas.an.2018-04-15T00:00:00Z.nc
     date: &bkg_date 2018-04-15T00:00:00Z
     state variables: [tocn, socn, hocn, cicen, hicen, hsnon]
  output:
     datadir: Data
     exp: soca2cice
     type: fc
     date: &bkg_date 2018-04-15T00:00:00Z

test:
  reference filename: testref/convertstate_soca2cice.test
  test output filename: testoutput/convertstate_soca2cice.test